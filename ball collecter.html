<link rel="icon" 
     type="image/ico" 
     href="https://djpiper28.github.io/favicon.ico">
<ul>
<body>
<head>
<title> Ball Collecter </title>
<style type="text/css">
.auto-style1 {
	font-family: Arial, Helvetica, sans-serif;
}
</style>
</head>

<h1 class="auto-style1">Ball Collecter</h1>
<h3 class="auto-style1">Is very retarded and bad.</h3>
<table><tr><th><canvas id="gameCanvas" width="800" height="650" class="auto-style1">Update browser please</canvas></th>
<th><iframe data-aa='535860' src='//ad.a-ads.com/535860?size=336x280' scrolling='no' style='width:336px; height:280px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3519931868243165"
     data-ad-slot="7809002918"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></th>
<th><head>
<style>
.dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}
p {
	font-family: Arial, Helvetica, sans-serif;
}
button {
	font-family: Arial, Helvetica, sans-serif;
}
.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: #3e8e41;
}
</style>
<meta name="djpiper28.github.io" content="ball collector">
</head>
<div class="dropdown">
  <button class="dropbtn">Menu</button>
  <div class="dropdown-content">
    <a class="auto-style1" href="https://djpiper28.github.io/index.html">Home</a>
    <a class="auto-style1" href="https://githubcom/djpiper28">My Github</a>    
  </div>
</div>

</th>
</tr></table>
<span class="auto-style1">
<script>
var ballx = [100,500,600,800]
var bally = [0,0,0,0]
var FPS = 30;
var tau = Math.PI*2;
var playerx = 350;
var score = 0;
var z = 0;
var finalscore;
var x;
function calculateMousePos(evt) {
	var rect = canvas.getBoundingClientRect();
	var root = document.documentElement;
	var mouseX = evt.clientX - rect.left - root.scrollLeft;
	var mouseY = evt.clientY - rect.top - root.scrollTop;
	return {
		x:mouseX,
		y:mouseY
	};
}

function ballreset(ball){
	ballx[ball] = Math.floor((Math.random() * 800) + 0);
	bally[ball] = 0; 
}
function circle(x,y,radius,colour){
	canvasContext.fillStyle = colour;
	canvasContext.beginPath();
	canvasContext.arc(x,y,radius,0,tau,true)
	canvasContext.fill();
}
function text(textt,sizefont,x,y,colour){
	canvasContext.fillStyle = colour;
	canvasContext.textAlign  = 'centre';
	canvasContext.font = sizefont;
	canvasContext.fillText(textt,x,y);
}
function draw(x,y,width,height,colour){
	canvasContext.fillStyle = colour;
	canvasContext.fillRect(x,y,width,height);
}
document.addEventListener('keydown', input);
document.addEventListener("mousedown", mouse, false);
function input(){
	var x = event.keyCode;
	if(x==32){
		console.log('space was pressed',x);
	} if(x==37){
		console.log('left',x);
		playerx = playerx - 50;
	} if(x==39){
		console.log('right',x);
		playerx = playerx + 50;
	}
}
function mouse(){
	console.log('mouse')
}
function rrandomcolour(){
	x = Math.floor((Math.random() * 10) + 0);
	if(x==0){
		randomcolour = 'green'
	} else if(x==1){
		randomcolour = 'red'
	} else if(x==3){
		randomcolour = 'white'
	} else if(x==4){
		randomcolour = 'yellow'
	} else if(x==5){
		randomcolour = 'pink'
	} else if(x==6){
		randomcolour = 'blue'
	} else if(x==7){
		randomcolour = 'orange'
	} else if(x==8){
		randomcolour = 'purple'
	} else if(x==9){
		randomcolour = 'brown'
	} else if(x==10){
		randomcolour = 'orange'
	} 
}
function drawEverything(){
	if(z<900){
		draw(0,0,800,650,'#323232')
		i = 0;
		console.log('frame')
		while(i<ballx.length&&i<50){
			console.log('while loop');
			rrandomcolour();
			circle(ballx[i],bally[i],10,randomcolour);
			if(bally[i]>810){
				ballreset(i);
				console.log('ballreset +', i);
			}
			bally[i] = bally[i] + 20
			i = i  + 1
			if(bally[i]>=640){
				if(ballx[i]<=playerx+110){
					if(ballx[i]>=playerx-10){
						score = score + 1;
						console.log(ballx[i],bally[i]);
						ballreset(i);
					}
				}
				ballreset(i)
			} 
		}
		if(playerx<=0){
			playerx = 0;
		}
		if(playerx>=700){
			playerx = 700;
		}
		if(ballx.length<50){
			ballreset(ballx.length);
		}
		if(ballx.length<20){
			ballreset(ballx.length);
			ballreset(ballx.length+1);
			ballreset(ballx.length+2);
		}
		if(bally.length!=ballx.length){
			console.log(ballx);
			console.log(bally);		
		}
		draw(playerx,640,100,10,'white');
		z = z + 1;
		if(z>=900){
			console.log('time up');
			finalscore = 'Your score was ', score;
			console.log(finalscore)
		}
		text(score, '20px Hobo STD', 400, 50, 'red');
	} else{
		draw(0,0,800,650,'black');
		text(finalscore, '24px Hobo STD',200,325,'red');
		text (score, '24px Hobo STD', 200, 375, 'white')
		z = z + 1;
		if(z>=1200){
			z = 0;
			console.log('restarting');
			score = 0;
		}
	}
}
window.onload = function(){
	console.log("Webpage loaded");
	ballreset();
	score = 0;
	canvas = document.getElementById('gameCanvas');
	canvasContext= canvas.getContext("2d");
	canvas.addEventListener('mousemove',
	function(evt) {
				var mousePos = calculateMousePos(evt);
				playerx = mousePos.x - 50;
		});
	setInterval(drawEverything,1000/FPS);
}
</script></span>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Default ads -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3519931868243165"
     data-ad-slot="1147744936"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<div width='420' height='500'>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-3519931868243165",
    enable_page_level_ads: true
  });
</script>
</div>
</body>